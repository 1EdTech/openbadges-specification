{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "1.0-compliant Badge Class with linked Issuer",
    "description": "The 1.0 OBI specification mandates that a hosted Badge Class be an object with linked Issuer",
    "type": "object",
    "definitions": {
        "ImageDataUrl": { 
            "type": "string",
            "pattern": "^data:"
        },
        "BadgeImage": {
            "anyOf": [
                { "$ref": "#/definitions/ImageDataUrl" },
                { "type": "string", "format": "uri" }
            ]
        },
        "AlignmentObject": {
            "description": "Each object in an alignment array is an object that describes a particular standard or standard element and provides an appropriate link",
            "type": "object",
            "properties": {
                "name": { "type": "string" },
                "url": { "type": "string", "format": "uri" },
                "description": { "type": "string" }
            },
            "required": ["name", "url"]
        },
        "AlignmentArray": {
            "description": "List of objects describing which educational standards this badge aligns to, if any, and linking to the appropriate standard.",
            "type": "array",
            "items": { "$ref": "#/definitions/AlignmentObject" }
        },
        "TagsArray": {
            "description": "An array of strings. TagsArray is not a controlled vocabulary; it's a folksonomy",
            "type": "array",
            "items": { "type": "string" },
            "uniqueness": true
        }
    },
    "properties": {
        "name": { "type": "string" },
        "description": { "type": "string" },
        "image": { "$ref": "#/definitions/BadgeImage" },
        "criteria": { "type": "string", "format": "uri" },
        "issuer": { "type": "string", "format": "uri" },
        "alignment": { "$ref": "#/definitions/AlignmentArray" },
        "tags": { "$ref": "#/definitions/TagsArray" }
    },
    "required": ["name", "description", "image", "criteria", "issuer"],
    "additionalProperties": true
}